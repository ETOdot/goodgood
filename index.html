<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover">
    <title>部落冲突 - 龘</title>
    <meta name="author" content="龘">
    <meta name="copyright" content="龘">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#d4af37">
    <meta name="description" content="部落冲突龘部落官方主页 - 加入我们，一起征服世界！">
    <meta property="og:type" content="website">
    <meta property="og:title" content="部落冲突 - 龘">
    <meta property="og:url" content="https://example.com">
    <meta property="og:site_name" content="龘">
    <meta property="og:description" content="部落冲突龘部落官方主页 - 加入我们，一起征服世界！">
    <meta property="og:locale" content="zh_CN">
    <meta property="og:image" content="https://example.com/img/clash-of-clans-banner.jpg">
    <meta property="article:author" content="龘">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://example.com/img/clash-of-clans-banner.jpg">
    <link rel="shortcut icon" href="/img/clash-of-clans-icon.png">
    <link rel="canonical" href="https://example.com">
    <link rel="preconnect" href="//cdn.jsdelivr.net"/>
    <link rel="preconnect" href="//hm.baidu.com"/>
    <link rel="preconnect" href="//busuanzi.ibruce.info"/>
    
    <style>
        /* 合并所有CSS样式 */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            cursor: url('picture/shubiao.jpg'), auto;
        }
        
        a, button, .btn, .ship-link {
            cursor: url('picture/shubiao.jpg'), pointer;
        }
        
        input, textarea {
            cursor: url('picture/shubiao.jpg') 16 16, text;
        }
        
        body {
            background-image: url('picture/main.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            position: relative;
            color: #fff;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: -1;
        }
        
        #page-header,
        .layout,
        #footer {
            position: relative;
            z-index: 1;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        .section-header h2 {
            font-size: 1.8rem;
        }
        
        .refresh-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(to right, #fdbb2d, #b21f1f);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .declarations-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .declaration-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .declaration-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .declaration-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .member-name {
            font-weight: bold;
            font-size: 1.2rem;
            color: #fdbb2d;
        }
        
        .declaration-date {
            font-size: 0.85rem;
            opacity: 0.8;
        }
        
        .declaration-text {
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            grid-column: 1 / -1;
        }
        
        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #fdbb2d;
        }
        
        /* 头部样式 */
        #page-header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), var(--header-bg);
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 100px 20px;
            position: relative;
        }
        
        #site-title {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            color: #d4af37;
        }
        
        #site-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: #e2e8f0;
        }
        
        /* 导航栏样式 */
        #nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 5%;
            background-color: rgba(26, 54, 93, 0.9);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .site-name {
            font-size: 1.8rem;
            font-weight: bold;
            color: #d4af37;
        }
        
        .menus_items {
            display: flex;
            gap: 30px;
        }
        
        .site-page {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .site-page:hover {
            color: #d4af37;
        }
        
        /* 主要内容区域 */
        .layout {
            display: flex;
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
            gap: 30px;
        }
        
        .recent-posts {
            flex: 2;
        }
        
        .aside-content {
            flex: 1;
        }
        
        /* 文章卡片样式 */
        .recent-post-item {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #d4af37;
            color: #333;
        }
        
        .article-title {
            font-size: 1.5rem;
            color: #1a365d;
            text-decoration: none;
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }
        
        .article-title:hover {
            color: #e53e3e;
        }
        
        .article-meta-wrap {
            color: #718096;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        /* 侧边栏卡片样式 */
        .card-widget {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        .item-headline {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #1a365d;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 8px;
        }
        
        /* 部落信息样式 */
        .clan-info {
            text-align: center;
            padding: 20px 0;
        }
        
        .clan-badge {
            width: 120px;
            height: 120px;
            margin: 0 auto 15px;
            border-radius: 50%;
            border: 5px solid #d4af37;
            background: #f0f4f8;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #d4af37;
        }
        
        .clan-name {
            font-size: 1.8rem;
            font-weight: bold;
            color: #1a365d;
            margin-bottom: 5px;
        }
        
        .clan-tag {
            color: #718096;
            margin-bottom: 15px;
        }
        
        .clan-stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #d4af37;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #718096;
        }
        
        /* 成员列表样式 */
        .member-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .member-item {
            text-align: center;
            padding: 10px;
            background: #f7fafc;
            border-radius: 8px;
            transition: transform 0.3s;
        }
        
        .member-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .member-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            background: #1a365d;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            overflow: hidden;
        }
        
        .member-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            transition: transform 0.3s ease;
        }
        
        .member-avatar img:hover {
            transform: scale(1.05);
        }
        
        .member-name {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .member-role {
            font-size: 0.8rem;
            color: #718096;
        }
        
        /* 按钮样式 */
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: #d4af37;
            color: white;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background: #b8941f;
        }
        
        .btn-join {
            background: #e53e3e;
            margin-top: 15px;
        }
        
        .btn-join:hover {
            background: #c53030;
        }
        
        /* 页脚样式 */
        #footer {
            background: #1a365d;
            color: white;
            padding: 40px 0 20px;
            margin-top: 50px;
        }
        
        #footer-wrap {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .ft {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .ft-item-1, .ft-item-2 {
            flex: 1;
            min-width: 300px;
            margin-bottom: 30px;
        }
        
        .ft-t {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #d4af37;
        }
        
        .ft-links {
            list-style: none;
            padding: 0;
        }
        
        .ft-links li {
            margin-bottom: 10px;
        }
        
        .ft-links a {
            color: #cbd5e0;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .ft-links a:hover {
            color: #d4af37;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #4a5568;
            color: #a0aec0;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .layout {
                flex-direction: column;
            }
            
            .menus_items {
                flex-direction: column;
                gap: 15px;
            }
            
            #site-title {
                font-size: 2.5rem;
            }
            
            .clan-stats {
                flex-direction: column;
                gap: 15px;
            }
            
            .declarations-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .section-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .member-avatar {
                width: 80px;
                height: 80px;
            }
        }
        
        @media (max-width: 480px) {
            .member-avatar {
                width: 60px;
                height: 60px;
            }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="page-header">
        <nav id="nav">
            <span id="blog-info">
                <a href="/" title="龘"></a>
                <div class="site-name">龘</div>
            </span>
            <div id="menus">
                <div class="menus_items">
                    <div class="menus_item">
                        <a class="site-page" href="/"><span> 部落首页</span></a>
                    </div>
                    <div class="menus_item">
                        <a class="site-page" href="/members/"><span> 部落成员</span></a>
                    </div>
                    <div class="menus_item">
                        <a class="site-page" href="/war/"><span> 部落战况</span></a>
                    </div>
                    <div class="menus_item">
                        <a class="site-page" href="/join/"><span> 加入我们</span></a>
                    </div>
                </div>
            </div>
        </nav>
        <div id="site-info">
            <h1 id="site-title">龘</h1>
            <div id="site-subtitle">部落冲突 | 等级12 | 正在招募成员</div>
            <div id="site_social_icons">
                <a class="social-icon" href="#" target="_blank" title="加入我们的Discord">Discord</a>
                <a class="social-icon" href="#" target="_blank" title="关注我们的YouTube">YouTube</a>
                <a class="social-icon" href="#" target="_blank" title="加入QQ群">QQ</a>
            </div>
        </div>
    </div>

    <main class="layout" id="content-inner">
        <div class="recent-posts" id="recent-posts">
            <!-- 内容将通过JavaScript动态加载 -->
        </div>
        
        <div class="aside-content" id="aside-content">
            <div class="card-widget card-info">
                <div class="clan-info">
                    <div class="clan-badge">
                        <span>龘</span>
                    </div>
                    <div class="clan-name">龘</div>
                    <div class="clan-tag"><div id="clan-tag"></div></div>
                    <div class="clan-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="clan-level">12</div>
                            <div class="stat-label">部落等级</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="clan-members">48/50</div>
                            <div class="stat-label">成员数量</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="clan-wins">35</div>
                            <div class="stat-label">胜利次数</div>
                        </div>
                    </div>
                    <a href="/join/" class="btn btn-join">立即加入</a>
                </div>
            </div>
            
            <div class="card-widget card-announcement">
                <div class="item-headline">
                    <span>部落公告</span>
                </div>
                <div class="announcement_content" id="announcement-content">
                    <!-- 公告内容将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <div class="card-widget">
                <div class="item-headline">
                    <span>部落排名</span>
                </div>
                <div class="content" id="rankings-content">
                    <!-- 排名内容将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <div class="card-widget">
                <div class="item-headline">
                   <span>核心成员</span>
                </div>
                <div class="member-list" id="member-list">
                    <!-- 成员列表将通过JavaScript动态加载 -->
                </div>
            </div>
        </div>
    </main>
    
    <!-- 宣言板块 -->
    <div class="container">
        <header>
            <h1>部落成员宣言</h1>
            <p class="subtitle">正在奏响您的战歌</p>
        </header>
        
        <!-- 宣言显示区域 -->
        <div class="declarations-section">
            <div class="section-header">
                <h2>部落宣言展示</h2>
                <button class="refresh-btn" id="refreshBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 极 8 2v1z"/>
                        <path d="M8 极.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 极.658A.25.25 极 0 1 8 极.466z"/>
                    </svg>
                    刷新列表
                </button>
            </div>
            
            <div class="declarations-container" id="declarationsList">
                <!-- 宣言将在这里动态显示 -->
                <div class="empty-state">
                    <h3>暂无宣言</h3>
                    <p>等待部落勇士们发表他们的心声</p>
                </div>
            </div>
        </div>
    </div>

    <footer id="footer">
        <div id="footer-wrap">
            <div class="ft">
                <div class="ft-item-1">
                    <p class="ft-t">部落资源</p>
                    <ul class="ft-links" id="footer-resources">
                        <!-- 资源链接将通过JavaScript动态加载 -->
                    </ul>
                </div>
                <div class="ft-item-2">
                    <p class="ft-t">相关链接</p>
                    <ul class="ft-links" id="footer-links">
                        <!-- 相关链接将通过JavaScript动态加载 -->
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2025 部落冲突游戏社区
            </div>
        </div>
    </footer>

    <script>
        // 使用fetch API加载JSON数据
        document.addEventListener('DOMContentLoaded', function() {
            // 加载JSON数据
            fetch('data.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('网络响应不正常');
                    }
                    return response.json();
                })
                .then(data => {
                    // 加载导航内容
                    loadNavigation(data.navigation);
                    
                    // 加载页面内容
                    loadPageContent(data.posts);
                    
                    // 加载部落信息
                    loadClanInfo(data.clanInfo);
                    
                    // 加载宣言
                    loadDeclarations(data.declarations);
                    
                    // 加载页脚内容
                    loadFooter(data.footer);
                    
                    // 设置刷新按钮事件
                    document.getElementById('refreshBtn').addEventListener('click', function() {
                        loadDeclarations(data.declarations);
                        
                        // 添加动画效果
                        const btn = this;
                        btn.style.transform = 'rotate(360deg)';
                        btn.style.transition = 'transform 0.7s ease-in-out';
                        
                        setTimeout(() => {
                            btn.style.transform = 'rotate(0deg)';
                        }, 700);
                    });
                })
                .catch(error => {
                    console.error('无法加载数据:', error);
                    // 如果加载失败，显示错误信息
                    document.getElementById('declarationsList').innerHTML = `
                        <div class="empty-state">
                            <h3>数据加载失败</h3>
                            <p>请检查data.json文件是否存在</p>
                        </div>
                    `;
                });
        });

        // 加载导航内容
        function loadNavigation(navigationData) {
            const navItems = document.querySelectorAll('.menus_item a');
            if (navItems.length && navigationData) {
                navItems[0].querySelector('span').textContent = navigationData.home;
                navItems[1].querySelector('span').textContent = navigationData.members;
                navItems[2].querySelector('span').textContent = navigationData.war;
                navItems[3].querySelector('span').textContent = navigationData.join;
            }
        }

        // 加载页面主要内容
        function loadPageContent(postsData) {
            const postsContainer = document.getElementById('recent-posts');
            if (postsContainer && postsData) {
                postsContainer.innerHTML = '';
                
                postsData.forEach(post => {
                    const postElement = document.createElement('div');
                    postElement.className = 'recent-post-item';
                    postElement.innerHTML = `
                        <a class="article-title" href="${post.link}" title="${post.title}">${post.title}</a>
                        <div class="article-meta-wrap">
                            <span class="post-meta-date">
                                <span class="article-meta-label">发表于</span>
                                <time datetime="${post.datetime}" title="发表于 ${post.fullDate}">${post.date}</time>
                            </span>
                        </div>
                        <div class="content">
                            ${post.content}
                        </div>
                    `;
                    postsContainer.appendChild(postElement);
                });
            }
        }

        // 加载部落信息
        function loadClanInfo(clanInfo) {
            if (clanInfo) {
                // 更新部落名称和标签
                document.querySelector('.clan-name').textContent = clanInfo.name;
                document.getElementById('clan-tag').textContent = clanInfo.tag;
                
                // 更新统计数据
                document.getElementById('clan-level').textContent = clanInfo.level;
                document.getElementById('clan-members').textContent = clanInfo.members;
                document.getElementById('clan-wins').textContent = clanInfo.wins;
                
                // 更新公告
                const announcementContent = document.getElementById('announcement-content');
                if (announcementContent) {
                    announcementContent.innerHTML = '';
                    clanInfo.announcements.forEach(announcement => {
                        const p = document.createElement('p');
                        p.innerHTML = `<strong>${announcement.title}：</strong>${announcement.content}`;
                        announcementContent.appendChild(p);
                    });
                }
                
                // 更新排名信息
                const rankingsContent = document.getElementById('rankings-content');
                if (rankingsContent && clanInfo.rankings) {
                    rankingsContent.innerHTML = `
                        <p><strong>服务器排名：</strong>${clanInfo.rankings.serverRank}</p>
                        <p><strong>需要大本营等级：</strong>${clanInfo.rankings.requiredTownHall}</p>
                        <p><strong>所需奖杯：</strong>${clanInfo.rankings.requiredTrophies}</p>
                        <极><strong>连胜记录：</strong>${clanInfo.rankings.winStreak}</p>
                    `;
                }
                
                // 更新核心成员
                const memberList = document.getElementById('member-list');
                if (memberList && clanInfo.coreMembers) {
                    memberList.innerHTML = '';
                    
                    clanInfo.coreMembers.forEach(member => {
                        const memberItem = document.createElement('div');
                        memberItem.className = 'member-item';
                        memberItem.innerHTML = `
                            <div class="member-avatar">
                                <img src="${member.avatar}" alt="${member.name}">
                            </div>
                            <div class="member-name">${member.name}</div>
                            <div class="member-role">${member.role}</div>
                        `;
                        memberList.appendChild(memberItem);
                    });
                }
            }
        }

        // 加载宣言
        function loadDeclarations(declarationsData) {
            const declarationsList = document.getElementById('declarationsList');
            
            if (!declarationsData || declarationsData.length === 0) {
                declarationsList.innerHTML = `
                    <div class="empty-state">
                        <h3>暂无宣言</h3>
                        <p>等待部落勇士们发表他们的心声</p>
                    </div>
                `;
                return;
            }
            
            // 清空现有内容
            declarationsList.innerHTML = '';
            
            // 添加宣言卡片
            declarationsData.forEach(declaration => {
                const declarationElement = document.createElement('div');
                declarationElement.className = 'declaration-card fade-in';
                declarationElement.innerHTML = `
                    <div class="declaration-header">
                        <div class="member-name">${declaration.name}</div>
                        <div class="declaration-date">${declaration.date}</div>
                    </div>
                    <div class="declaration-text">${declaration.text}</div>
                `;
                declarationsList.appendChild(declarationElement);
            });
        }

        // 加载页脚内容
        function loadFooter(footerData) {
            if (footerData) {
                // 更新资源链接
                const resourceLinks = document.getElementById('footer-resources');
                if (resourceLinks) {
                    resourceLinks.innerHTML = '';
                    footerData.resources.forEach(resource => {
                        const li = document.createElement('li');
                        li.innerHTML = `<a href="${resource.url}">${resource.title}</a>`;
                        resourceLinks.appendChild(li);
                    });
                }
                
                // 更新相关链接
                const relatedLinks = document.getElementById('footer-links');
                if (relatedLinks) {
                    relatedLinks.innerHTML = '';
                    footerData.relatedLinks.forEach(link => {
                        const li = document.createElement('li');
                        li.innerHTML = `<a href="${link.url}" target="_blank">${link.title}</a>`;
                        relatedLinks.appendChild(li);
                    });
                }
            }
        }
    </script>
</body>
</html>
